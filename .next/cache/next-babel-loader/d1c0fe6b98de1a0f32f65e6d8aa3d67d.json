{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jakub Sedlak\\\\WebstormProjects\\\\projekt_CP\\\\components\\\\Termostat.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useRef, useState } from \"react\";\nimport anime from \"animejs\";\nimport { firebase } from \"../firebase/index\";\n\nfunction Termostat(props) {\n  const min = 0;\n  const max = 50;\n  const minAngle = 0;\n  const maxAngle = 180;\n  const segCount = 22; //11;\n\n  let handle = false;\n  const lines = useRef();\n  const valueInput = useRef();\n  const hand = useRef();\n  let {\n    0: lastNode,\n    1: setLastNode\n  } = useState();\n  let {\n    0: lastNodeAngle,\n    1: setLastNodeAngle\n  } = useState(0);\n  useEffect(() => {\n    let j = 0;\n\n    for (let i = 0; i < segCount; i++) {\n      let handAngle = Math.round(maxAngle / max * j);\n      let line = '<div rotate=' + handAngle + ' style=\"transform:rotate(' + handAngle + 'deg)!important;\" class=\"lineContainer\"><div class=\"line\"></div></div>';\n      lines.current.innerHTML += line;\n      j += max / (segCount - 1);\n    }\n\n    let containers = document.getElementsByClassName('lineContainer');\n    setLastNode(containers[0].childNodes[0]);\n    setLastNodeAngle(0);\n    anime({\n      targets: lastNode,\n      scale: [{\n        value: 1.5,\n        easing: 'easeOutSine',\n        duration: 500\n      }],\n      delay: 0\n    });\n\n    const updateHandAngle = angle => {\n      angle = Math.round(angle);\n\n      if (angle <= maxAngle && angle >= minAngle) {\n        valueInput.current.value = Math.round(max / maxAngle * angle);\n\n        for (let i = 0; i < containers.length; i++) {\n          let containerAngle = parseInt(containers[i].getAttribute('rotate'));\n\n          if (containerAngle > lastNodeAngle && containerAngle <= angle || containerAngle < lastNodeAngle && angle <= containerAngle) {\n            anime({\n              targets: lastNode,\n              scale: [{\n                value: 1,\n                easing: 'easeInOutQuad',\n                duration: 500\n              }],\n              delay: 0\n            });\n            anime({\n              targets: containers[i].childNodes,\n              scale: [{\n                value: 1.5,\n                easing: 'easeOutSine',\n                duration: 500\n              }],\n              delay: 0\n            });\n            setLastNode(containers[i].childNodes[0]);\n            setLastNodeAngle(containerAngle);\n            break;\n          }\n        }\n\n        ;\n        hand.current.style.transform = \"rotate(\" + angle + \"deg)\";\n      }\n    };\n  }, []);\n  useEffect(() => {}, [props.temp]);\n  return __jsx(\"div\", {\n    className: \"jsx-2086758953\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    id: \"work\",\n    className: \"jsx-2086758953\" + \" \" + \"workspace\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, __jsx(\"svg\", {\n    id: \"handPath\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 161.45 161.45\",\n    className: \"jsx-2086758953\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, __jsx(\"defs\", {\n    className: \"jsx-2086758953\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, __jsx(\"style\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \".pathcircle{fill:none;stroke:#eceff1;stroke-miterlimit:10;stroke-opacity:0.08;stroke-width:2px;}\")), __jsx(\"title\", {\n    className: \"jsx-2086758953\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Datov\\xFD zdroj 22\"), __jsx(\"g\", {\n    id: \"Vrstva_2\",\n    \"data-name\": \"Vrstva 2\",\n    className: \"jsx-2086758953\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, __jsx(\"g\", {\n    id: \"Vrstva_2-2\",\n    \"data-name\": \"Vrstva 2\",\n    className: \"jsx-2086758953\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, __jsx(\"circle\", {\n    cx: \"80.73\",\n    cy: \"80.73\",\n    r: \"80.6\",\n    \"stroke-dasharray\": \"253\",\n    \"stroke-dashoffset\": \"253\",\n    className: \"jsx-2086758953\" + \" \" + \"pathcircle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  })))), __jsx(\"div\", {\n    ref: lines,\n    id: \"lines\",\n    className: \"jsx-2086758953\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    ref: hand,\n    className: \"jsx-2086758953\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, __jsx(\"svg\", {\n    id: \"handle\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 26.04 26.04\",\n    className: \"jsx-2086758953\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, __jsx(\"defs\", {\n    className: \"jsx-2086758953\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, __jsx(\"style\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \".handle{fill:#2196f3;}\")), __jsx(\"title\", {\n    className: \"jsx-2086758953\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"Datov\\xFD zdroj 25\"), __jsx(\"g\", {\n    id: \"Vrstva_2\",\n    \"data-name\": \"Vrstva 2\",\n    className: \"jsx-2086758953\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, __jsx(\"g\", {\n    id: \"Vrstva_2-2\",\n    \"data-name\": \"Vrstva 2\",\n    className: \"jsx-2086758953\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, __jsx(\"circle\", {\n    cx: \"13.02\",\n    cy: \"13.02\",\n    r: \"13.02\",\n    className: \"jsx-2086758953\" + \" \" + \"handle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  })))))), __jsx(\"input\", {\n    ref: valueInput,\n    type: \"number\",\n    className: \"jsx-2086758953\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }), __jsx(_JSXStyle, {\n    id: \"2086758953\",\n    __self: this\n  }, \".workspace{background:#212121;height:500px;width:500px;margin:auto;position:relative;border-radius:100%;}#lines,#handPath,.lineContainer{pointer-events:none;overflow:visible;}#handPath{width:5rem;height:5rem;}#lines{position:absolute;height:0px;width:500px;margin-top:50%;}.lineContainer{width:250px;position:absolute;-webkit-transform-origin:right center;-ms-transform-origin:right center;transform-origin:right center;}.line{height:5px;width:3rem;margin-left:1.5rem;}#handPath{width:250px;height:250px;margin:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);position:absolute;}#hand{margin-top:50%;background:red;-webkit-transform-origin:right center;-ms-transform-origin:right center;transform-origin:right center;position:absolute;width:250px;height:0;}#handle{width:2rem;height:2rem;-webkit-transform:translate(50%,-50%);-ms-transform:translate(50%,-50%);transform:translate(50%,-50%);right:125px;position:absolute;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcSmFrdWIgU2VkbGFrXFxXZWJzdG9ybVByb2plY3RzXFxwcm9qZWt0X0NQXFxjb21wb25lbnRzXFxUZXJtb3N0YXQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBMEcrQixBQUdxQyxBQVFFLEFBSVYsQUFJTyxBQU1MLEFBS0YsQUFLRSxBQU9FLEFBUUosV0FsQ0MsQUFlRCxBQW9CQyxDQXpCTSxBQVVGLEdBT0QsR0F2QkosQ0FoQkUsQ0FRSSxFQW9CRSxDQWZwQixBQW1DK0IsRUFmaEIsSUFoQkYsQ0FNbUIsQUFpQkEsRUF2Q25CLElBaUN1QixDQXpCcEMsSUFTZ0IsQUFXaEIsR0EzQmEsWUFDTSxBQWdCbkIsa0JBZm9CLG1CQUNwQixnQ0E0Q2EsT0F6QmIsQUFpQm1CLEtBU0EsSUFmRyxTQU9ULEtBU2IsSUFmQSxHQU9VLFNBQ1YiLCJmaWxlIjoiQzpcXFVzZXJzXFxKYWt1YiBTZWRsYWtcXFdlYnN0b3JtUHJvamVjdHNcXHByb2pla3RfQ1BcXGNvbXBvbmVudHNcXFRlcm1vc3RhdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwge3VzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZX0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCBhbmltZSBmcm9tIFwiYW5pbWVqc1wiO1xyXG5pbXBvcnQge2ZpcmViYXNlfSBmcm9tIFwiLi4vZmlyZWJhc2UvaW5kZXhcIjtcclxuZnVuY3Rpb24gVGVybW9zdGF0KHByb3BzKXtcclxuICAgIGNvbnN0IG1pbiA9IDA7XHJcbiAgICBjb25zdCBtYXggPSA1MDtcclxuICAgIGNvbnN0IG1pbkFuZ2xlID0gMDtcclxuICAgIGNvbnN0IG1heEFuZ2xlID0gMTgwO1xyXG4gICAgY29uc3Qgc2VnQ291bnQgPSAyMi8vMTE7XHJcbiAgICBsZXQgaGFuZGxlID0gZmFsc2U7XHJcbiAgICBjb25zdCBsaW5lcyA9IHVzZVJlZigpO1xyXG4gICAgY29uc3QgdmFsdWVJbnB1dCA9IHVzZVJlZigpO1xyXG4gICAgY29uc3QgaGFuZCA9IHVzZVJlZigpO1xyXG4gICAgbGV0IFtsYXN0Tm9kZSxzZXRMYXN0Tm9kZV0gPSB1c2VTdGF0ZSgpO1xyXG4gICAgbGV0IFtsYXN0Tm9kZUFuZ2xlLHNldExhc3ROb2RlQW5nbGVdID0gdXNlU3RhdGUoMCk7XHJcblxyXG4gICAgdXNlRWZmZWN0KCgpPT57XHJcbiAgICAgICAgbGV0IGogPSAwO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBzZWdDb3VudDsgaSsrKXtcclxuICAgICAgICAgICAgbGV0IGhhbmRBbmdsZSA9IE1hdGgucm91bmQoKG1heEFuZ2xlL21heCkqaik7XHJcbiAgICAgICAgICAgIGxldCBsaW5lID0gJzxkaXYgcm90YXRlPScraGFuZEFuZ2xlKycgc3R5bGU9XCJ0cmFuc2Zvcm06cm90YXRlKCcraGFuZEFuZ2xlKydkZWcpIWltcG9ydGFudDtcIiBjbGFzcz1cImxpbmVDb250YWluZXJcIj48ZGl2IGNsYXNzPVwibGluZVwiPjwvZGl2PjwvZGl2Pic7XHJcbiAgICAgICAgICAgIGxpbmVzLmN1cnJlbnQuaW5uZXJIVE1MICs9IGxpbmU7XHJcbiAgICAgICAgICAgIGorPW1heC8oc2VnQ291bnQtMSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgY29udGFpbmVycyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2xpbmVDb250YWluZXInKTtcclxuICAgICAgICBzZXRMYXN0Tm9kZShjb250YWluZXJzWzBdLmNoaWxkTm9kZXNbMF0pO1xyXG4gICAgICAgIHNldExhc3ROb2RlQW5nbGUoMCk7XHJcbiAgICAgICAgYW5pbWUoe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiBsYXN0Tm9kZSxcclxuICAgICAgICAgICAgc2NhbGU6IFtcclxuICAgICAgICAgICAgICAgIHt2YWx1ZTogMS41LCBlYXNpbmc6ICdlYXNlT3V0U2luZScsIGR1cmF0aW9uOiA1MDB9XHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIGRlbGF5OiAwLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgY29uc3QgdXBkYXRlSGFuZEFuZ2xlID0gKGFuZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgIGFuZ2xlID0gTWF0aC5yb3VuZChhbmdsZSk7XHJcblxyXG4gICAgICAgICAgICBpZihhbmdsZSA8PSBtYXhBbmdsZSAmJiBhbmdsZSA+PSBtaW5BbmdsZSl7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZUlucHV0LmN1cnJlbnQudmFsdWUgPSBNYXRoLnJvdW5kKChtYXgvbWF4QW5nbGUpKmFuZ2xlKTtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBjb250YWluZXJzLmxlbmd0aDsgaSsrKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnRhaW5lckFuZ2xlID0gcGFyc2VJbnQoY29udGFpbmVyc1tpXS5nZXRBdHRyaWJ1dGUoJ3JvdGF0ZScpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZigoY29udGFpbmVyQW5nbGUgPiBsYXN0Tm9kZUFuZ2xlICYmIGNvbnRhaW5lckFuZ2xlIDw9IGFuZ2xlKSB8fCAoY29udGFpbmVyQW5nbGUgPCBsYXN0Tm9kZUFuZ2xlICYmIGFuZ2xlIDw9IGNvbnRhaW5lckFuZ2xlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRzOiBsYXN0Tm9kZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3ZhbHVlOiAxLCBlYXNpbmc6ICdlYXNlSW5PdXRRdWFkJywgZHVyYXRpb246IDUwMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxheTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IGNvbnRhaW5lcnNbaV0uY2hpbGROb2RlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3ZhbHVlOiAxLjUsIGVhc2luZzogJ2Vhc2VPdXRTaW5lJywgZHVyYXRpb246IDUwMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxheTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldExhc3ROb2RlKGNvbnRhaW5lcnNbaV0uY2hpbGROb2Rlc1swXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldExhc3ROb2RlQW5nbGUoY29udGFpbmVyQW5nbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGhhbmQuY3VycmVudC5zdHlsZS50cmFuc2Zvcm09XCJyb3RhdGUoXCIrKGFuZ2xlKStcImRlZylcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfSxbXSk7XHJcbiAgICB1c2VFZmZlY3QoKCk9PntcclxuXHJcblxyXG4gICAgfSxbcHJvcHMudGVtcF0pO1xyXG5cclxuICAgIHJldHVybihcclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwid29ya1wiIGNsYXNzTmFtZT1cIndvcmtzcGFjZVwiPlxyXG4gICAgICAgICAgICAgICAgPHN2ZyBpZD1cImhhbmRQYXRoXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMTYxLjQ1IDE2MS40NVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkZWZzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGU+e1wiLnBhdGhjaXJjbGV7ZmlsbDpub25lO3N0cm9rZTojZWNlZmYxO3N0cm9rZS1taXRlcmxpbWl0OjEwO3N0cm9rZS1vcGFjaXR5OjAuMDg7c3Ryb2tlLXdpZHRoOjJweDt9XCJ9PC9zdHlsZT5cclxuICAgICAgICAgICAgICAgICAgICA8L2RlZnM+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRpdGxlPkRhdG92w70gemRyb2ogMjI8L3RpdGxlPlxyXG4gICAgICAgICAgICAgICAgICAgIDxnIGlkPVwiVnJzdHZhXzJcIiBkYXRhLW5hbWU9XCJWcnN0dmEgMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD1cIlZyc3R2YV8yLTJcIiBkYXRhLW5hbWU9XCJWcnN0dmEgMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjbGFzc05hbWU9XCJwYXRoY2lyY2xlXCIgY3g9XCI4MC43M1wiIGN5PVwiODAuNzNcIiByPVwiODAuNlwiIHN0cm9rZS1kYXNoYXJyYXk9XCIyNTNcIiBzdHJva2UtZGFzaG9mZnNldD1cIjI1M1wiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgPGRpdiByZWY9e2xpbmVzfSBpZD1cImxpbmVzXCI+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgcmVmPXtoYW5kfT5cclxuICAgICAgICAgICAgICAgICAgICA8c3ZnIGlkPVwiaGFuZGxlXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjYuMDQgMjYuMDRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRlZnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGU+e1wiLmhhbmRsZXtmaWxsOiMyMTk2ZjM7fVwifTwvc3R5bGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGVmcz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRpdGxlPkRhdG92w70gemRyb2ogMjU8L3RpdGxlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD1cIlZyc3R2YV8yXCIgZGF0YS1uYW1lPVwiVnJzdHZhIDJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPVwiVnJzdHZhXzItMlwiIGRhdGEtbmFtZT1cIlZyc3R2YSAyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjbGFzc05hbWU9XCJoYW5kbGVcIiBjeD1cIjEzLjAyXCIgY3k9XCIxMy4wMlwiIHI9XCIxMy4wMlwiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8aW5wdXQgcmVmPXt2YWx1ZUlucHV0fSB0eXBlID0gXCJudW1iZXJcIj48L2lucHV0PlxyXG4gICAgICAgICAgICA8c3R5bGUganN4IGdsb2JhbD57YFxyXG4gICAgICAgICAgICAgICAgLndvcmtzcGFjZXtcclxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDojMjEyMTIxO1xyXG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6NTAwcHg7XHJcbiAgICAgICAgICAgICAgICAgIHdpZHRoOjUwMHB4O1xyXG4gICAgICAgICAgICAgICAgICBtYXJnaW46YXV0bztcclxuICAgICAgICAgICAgICAgICAgcG9zaXRpb246cmVsYXRpdmU7XHJcbiAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6MTAwJTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICNsaW5lcywjaGFuZFBhdGgsLmxpbmVDb250YWluZXJ7XHJcbiAgICAgICAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG4gICAgICAgICAgICAgICAgICBvdmVyZmxvdzp2aXNpYmxlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgI2hhbmRQYXRoe1xyXG4gICAgICAgICAgICAgICAgICB3aWR0aDo1cmVtO1xyXG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6NXJlbTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICNsaW5lc3tcclxuICAgICAgICAgICAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XHJcbiAgICAgICAgICAgICAgICAgIGhlaWdodDowcHg7XHJcbiAgICAgICAgICAgICAgICAgIHdpZHRoOjUwMHB4O1xyXG4gICAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOjUwJTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC5saW5lQ29udGFpbmVye1xyXG4gICAgICAgICAgICAgICAgICB3aWR0aDogMjUwcHg7XHJcbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOmFic29sdXRlO1xyXG4gICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiByaWdodCBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAubGluZXtcclxuICAgICAgICAgICAgICAgICAgaGVpZ2h0OjVweDtcclxuICAgICAgICAgICAgICAgICAgd2lkdGg6M3JlbTtcclxuICAgICAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6MS41cmVtO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgI2hhbmRQYXRoe1xyXG4gICAgICAgICAgICAgICAgICB3aWR0aDogMjUwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAyNTBweDtcclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDUwJTtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAjaGFuZHtcclxuICAgICAgICAgICAgICAgICAgbWFyZ2luLXRvcDo1MCU7XHJcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6cmVkO1xyXG4gICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiByaWdodCBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOmFic29sdXRlO1xyXG4gICAgICAgICAgICAgICAgICB3aWR0aDoyNTBweDtcclxuICAgICAgICAgICAgICAgICAgaGVpZ2h0OjA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAjaGFuZGxle1xyXG4gICAgICAgICAgICAgICAgICB3aWR0aDoycmVtO1xyXG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6MnJlbTtcclxuICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOnRyYW5zbGF0ZSg1MCUsLTUwJSk7XHJcbiAgICAgICAgICAgICAgICAgIHJpZ2h0OjEyNXB4O1xyXG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYH08L3N0eWxlPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUZXJtb3N0YXQ7Il19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Jakub Sedlak\\\\\\\\WebstormProjects\\\\\\\\projekt_CP\\\\\\\\components\\\\\\\\Termostat.js */\"));\n}\n\nexport default Termostat;","map":{"version":3,"sources":["C:/Users/Jakub Sedlak/WebstormProjects/projekt_CP/components/Termostat.js"],"names":["React","useEffect","useRef","useState","anime","firebase","Termostat","props","min","max","minAngle","maxAngle","segCount","handle","lines","valueInput","hand","lastNode","setLastNode","lastNodeAngle","setLastNodeAngle","j","i","handAngle","Math","round","line","current","innerHTML","containers","document","getElementsByClassName","childNodes","targets","scale","value","easing","duration","delay","updateHandAngle","angle","length","containerAngle","parseInt","getAttribute","style","transform","temp"],"mappings":"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","sourcesContent":["import React, {useEffect, useRef, useState} from \"react\";\r\nimport anime from \"animejs\";\r\nimport {firebase} from \"../firebase/index\";\r\nfunction Termostat(props){\r\n    const min = 0;\r\n    const max = 50;\r\n    const minAngle = 0;\r\n    const maxAngle = 180;\r\n    const segCount = 22//11;\r\n    let handle = false;\r\n    const lines = useRef();\r\n    const valueInput = useRef();\r\n    const hand = useRef();\r\n    let [lastNode,setLastNode] = useState();\r\n    let [lastNodeAngle,setLastNodeAngle] = useState(0);\r\n\r\n    useEffect(()=>{\r\n        let j = 0;\r\n        for(let i = 0; i < segCount; i++){\r\n            let handAngle = Math.round((maxAngle/max)*j);\r\n            let line = '<div rotate='+handAngle+' style=\"transform:rotate('+handAngle+'deg)!important;\" class=\"lineContainer\"><div class=\"line\"></div></div>';\r\n            lines.current.innerHTML += line;\r\n            j+=max/(segCount-1);\r\n        }\r\n\r\n        let containers = document.getElementsByClassName('lineContainer');\r\n        setLastNode(containers[0].childNodes[0]);\r\n        setLastNodeAngle(0);\r\n        anime({\r\n            targets: lastNode,\r\n            scale: [\r\n                {value: 1.5, easing: 'easeOutSine', duration: 500}\r\n            ],\r\n            delay: 0,\r\n        })\r\n        const updateHandAngle = (angle) => {\r\n            angle = Math.round(angle);\r\n\r\n            if(angle <= maxAngle && angle >= minAngle){\r\n                valueInput.current.value = Math.round((max/maxAngle)*angle);\r\n                for(let i = 0; i < containers.length; i++){\r\n\r\n                    let containerAngle = parseInt(containers[i].getAttribute('rotate'));\r\n                    if((containerAngle > lastNodeAngle && containerAngle <= angle) || (containerAngle < lastNodeAngle && angle <= containerAngle)) {\r\n                        anime({\r\n                            targets: lastNode,\r\n                            scale: [\r\n                                {value: 1, easing: 'easeInOutQuad', duration: 500}\r\n                            ],\r\n                            delay: 0,\r\n                        });\r\n                        anime({\r\n                            targets: containers[i].childNodes,\r\n                            scale: [\r\n                                {value: 1.5, easing: 'easeOutSine', duration: 500}\r\n                            ],\r\n                            delay: 0,\r\n                        });\r\n                        setLastNode(containers[i].childNodes[0]);\r\n                        setLastNodeAngle(containerAngle);\r\n                        break;\r\n                    }\r\n\r\n                };\r\n                hand.current.style.transform=\"rotate(\"+(angle)+\"deg)\";\r\n            }\r\n        }\r\n\r\n\r\n    },[]);\r\n    useEffect(()=>{\r\n\r\n\r\n    },[props.temp]);\r\n\r\n    return(\r\n        <div>\r\n            <div id=\"work\" className=\"workspace\">\r\n                <svg id=\"handPath\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 161.45 161.45\">\r\n                    <defs>\r\n                        <style>{\".pathcircle{fill:none;stroke:#eceff1;stroke-miterlimit:10;stroke-opacity:0.08;stroke-width:2px;}\"}</style>\r\n                    </defs>\r\n                    <title>Datový zdroj 22</title>\r\n                    <g id=\"Vrstva_2\" data-name=\"Vrstva 2\">\r\n                        <g id=\"Vrstva_2-2\" data-name=\"Vrstva 2\">\r\n                            <circle className=\"pathcircle\" cx=\"80.73\" cy=\"80.73\" r=\"80.6\" stroke-dasharray=\"253\" stroke-dashoffset=\"253\"/>\r\n                        </g>\r\n                    </g>\r\n                </svg>\r\n                <div ref={lines} id=\"lines\">\r\n                </div>\r\n                <div ref={hand}>\r\n                    <svg id=\"handle\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 26.04 26.04\">\r\n                        <defs>\r\n                            <style>{\".handle{fill:#2196f3;}\"}</style>\r\n                        </defs>\r\n                        <title>Datový zdroj 25</title>\r\n                        <g id=\"Vrstva_2\" data-name=\"Vrstva 2\">\r\n                            <g id=\"Vrstva_2-2\" data-name=\"Vrstva 2\">\r\n                                <circle className=\"handle\" cx=\"13.02\" cy=\"13.02\" r=\"13.02\"/>\r\n                            </g>\r\n                        </g>\r\n                    </svg>\r\n                </div>\r\n            </div>\r\n            <input ref={valueInput} type = \"number\"></input>\r\n            <style jsx global>{`\r\n                .workspace{\r\n                  background:#212121;\r\n                  height:500px;\r\n                  width:500px;\r\n                  margin:auto;\r\n                  position:relative;\r\n                  border-radius:100%;\r\n                }\r\n                #lines,#handPath,.lineContainer{\r\n                  pointer-events: none;\r\n                  overflow:visible;\r\n                }\r\n                #handPath{\r\n                  width:5rem;\r\n                  height:5rem;\r\n                }\r\n                #lines{\r\n                  position:absolute;\r\n                  height:0px;\r\n                  width:500px;\r\n                  margin-top:50%;\r\n                }\r\n                .lineContainer{\r\n                  width: 250px;\r\n                  position:absolute;\r\n                  transform-origin: right center;\r\n                }\r\n                .line{\r\n                  height:5px;\r\n                  width:3rem;\r\n                  margin-left:1.5rem;\r\n                }\r\n                #handPath{\r\n                  width: 250px;\r\n                    height: 250px;\r\n                    margin: 50%;\r\n                    transform: translate(-50%, -50%);\r\n                    position: absolute;\r\n                }\r\n                #hand{\r\n                  margin-top:50%;\r\n                  background:red;\r\n                  transform-origin: right center;\r\n                  position:absolute;\r\n                  width:250px;\r\n                  height:0;\r\n                }\r\n                #handle{\r\n                  width:2rem;\r\n                  height:2rem;\r\n                  transform:translate(50%,-50%);\r\n                  right:125px;\r\n                  position:absolute;\r\n                }\r\n            `}</style>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Termostat;"]},"metadata":{},"sourceType":"module"}