{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jakub Sedlak\\\\WebstormProjects\\\\projektIP - firebase\\\\pages\\\\addRoom.js\";\nvar __jsx = React.createElement;\nimport { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport React, { useEffect, useRef, useState } from \"react\";\nimport fetch from \"node-fetch\";\nimport useSWR from \"swr\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { TableContainer, Paper, FormControl, InputLabel, Select, MenuItem, Input, Chip, TextField, Button, Grid, Typography } from \"@material-ui/core\";\nimport DeleteIcon from '@material-ui/icons/Delete';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    table: {\n      padding: \"5%\"\n    },\n    form: {\n      display: 'flex',\n      flexFlow: 'column'\n    },\n    chips: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    chip: {\n      margin: 2\n    },\n    field: {\n      margin: theme.spacing(2)\n    },\n    button: {\n      margin: theme.spacing(2)\n    },\n    removeBtn: {\n      margin: theme.spacing(2),\n      background: theme.status.danger,\n      '&:hover': {\n        background: theme.status.danger\n      }\n    }\n  };\n});\n\nfunction AddRoom(props) {\n  var classes = useStyles();\n  var router = useRouter();\n\n  var _useState = useState(null),\n      name = _useState[0],\n      setName = _useState[1];\n\n  var _useState2 = useState(null),\n      number = _useState2[0],\n      setNumber = _useState2[1];\n\n  var _useState3 = useState(null),\n      phone = _useState3[0],\n      setPhone = _useState3[1];\n\n  var first = true;\n\n  function checkStatus(res) {\n    if (res.ok) {\n      // res.status >= 200 && res.status < 300\n      return res;\n    } else {\n      return {\n        json: function json() {\n          return {\n            error: res.status\n          };\n        }\n      };\n    }\n  }\n\n  var submitChanges = function submitChanges() {\n    var params = new URLSearchParams();\n    params.append(\"name\", name);\n    params.append(\"number\", number);\n    if (phone !== null) params.append(\"phone\", phone);\n    fetch(\"http://a2017sedlja.delta-studenti.cz/projektAPI/pridatmistnost.php\", {\n      method: 'POST',\n      body: params,\n      headers: {\n        AUTHTOKEN: props.session\n      }\n    }).then(checkStatus).then(function (r) {\n      return r.json();\n    }).then(function (f) {\n      if (!f.error) router.back();\n    });\n  };\n\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: classes.table,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, __jsx(Typography, {\n    className: classes.header,\n    variant: \"h4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Add room\"), __jsx(\"form\", {\n    className: classes.form,\n    noValidate: true,\n    onSubmit: function onSubmit(e) {\n      e.preventDefault();\n      submitChanges();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, __jsx(TextField, {\n    className: classes.field,\n    onChange: function onChange(e) {\n      setName(e.target.value);\n    },\n    required: true,\n    type: \"text\",\n    id: \"name\",\n    label: \"room name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }), __jsx(TextField, {\n    className: classes.field,\n    onChange: function onChange(e) {\n      setNumber(e.target.value);\n    },\n    required: true,\n    type: \"number\",\n    id: \"number\",\n    label: \"room number\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }), __jsx(TextField, {\n    className: classes.field,\n    onChange: function onChange(e) {\n      setPhone(e.target.value);\n    },\n    type: \"number\",\n    id: \"phone\",\n    label: \"room phone\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }), __jsx(\"input\", {\n    style: {\n      display: \"none\"\n    },\n    id: \"submit-btn\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  })), __jsx(\"label\", {\n    htmlFor: \"submit-btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, __jsx(Button, {\n    className: classes.button,\n    variant: \"contained\",\n    color: \"primary\",\n    component: \"span\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"Add\"))), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"Hello Next.js\"));\n}\n\nAddRoom.getInitialProps = function (_ref) {\n  var query = _ref.query;\n  return {\n    query: query\n  };\n};\n\nexport default AddRoom;","map":{"version":3,"sources":["C:/Users/Jakub Sedlak/WebstormProjects/projektIP - firebase/pages/addRoom.js"],"names":["useRouter","Link","React","useEffect","useRef","useState","fetch","useSWR","makeStyles","TableContainer","Paper","FormControl","InputLabel","Select","MenuItem","Input","Chip","TextField","Button","Grid","Typography","DeleteIcon","useStyles","theme","table","padding","form","display","flexFlow","chips","flexWrap","chip","margin","field","spacing","button","removeBtn","background","status","danger","AddRoom","props","classes","router","name","setName","number","setNumber","phone","setPhone","first","checkStatus","res","ok","json","error","submitChanges","params","URLSearchParams","append","method","body","headers","AUTHTOKEN","session","then","r","f","back","header","e","preventDefault","target","value","getInitialProps","query"],"mappings":"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","sourcesContent":["import { useRouter } from 'next/router'\r\nimport Link from 'next/link';\r\nimport React, {useEffect, useRef, useState} from \"react\";\r\nimport fetch from \"node-fetch\";\r\nimport useSWR from \"swr\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n    TableContainer,\r\n    Paper,\r\n    FormControl,\r\n    InputLabel,\r\n    Select,\r\n    MenuItem,\r\n    Input,\r\n    Chip,\r\n    TextField,\r\n    Button, Grid, Typography\r\n} from \"@material-ui/core\";\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nconst useStyles = makeStyles(theme=>({\r\n    table:{\r\n        padding:\"5%\"\r\n    },\r\n    form:{\r\n      display:'flex',\r\n      flexFlow:'column'\r\n    },\r\n    chips: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap'\r\n    },\r\n    chip: {\r\n        margin: 2\r\n    },\r\n    field:{\r\n        margin: theme.spacing(2)\r\n    },\r\n    button:{\r\n        margin:theme.spacing(2)\r\n    },\r\n    removeBtn:{\r\n        margin:theme.spacing(2),\r\n        background:theme.status.danger,\r\n            '&:hover':{\r\n                background:theme.status.danger\r\n            }\r\n    }\r\n}));\r\n\r\nfunction AddRoom(props) {\r\n\r\n    const classes = useStyles();\r\n    const router = useRouter();\r\n    const [name,setName] = useState(null);\r\n    const [number,setNumber] = useState(null);\r\n    const [phone,setPhone] = useState(null);\r\n    let first = true;\r\n\r\n    function checkStatus(res) {\r\n        if (res.ok) { // res.status >= 200 && res.status < 300\r\n            return res;\r\n        } else {\r\n            return {json:()=>{return{error:res.status}}}\r\n        }\r\n    }\r\n\r\n    const submitChanges = () => {\r\n        const params = new URLSearchParams();\r\n        params.append(\"name\",name);\r\n        params.append(\"number\",number);\r\n        if(phone!==null)\r\n            params.append(\"phone\",phone);\r\n\r\n        fetch(\"http://a2017sedlja.delta-studenti.cz/projektAPI/pridatmistnost.php\",{method:'POST',body:params,headers:{AUTHTOKEN:props.session}}).then(checkStatus).then(r=>r.json()).then(f=>{\r\n            if(!f.error)\r\n               router.back();\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={classes.table}>\r\n                <Typography className={classes.header} variant=\"h4\">\r\n                    {\"Add room\"}\r\n                </Typography>\r\n                <form className={classes.form} noValidate onSubmit={e=>{\r\n                    e.preventDefault()\r\n                    submitChanges();\r\n                }}>\r\n                    <TextField className={classes.field} onChange={e=>{setName(e.target.value)}} required type={\"text\"} id=\"name\" label={\"room name\"}/>\r\n                    <TextField className={classes.field} onChange={e=>{setNumber(e.target.value)}} required type={\"number\"} id=\"number\" label={\"room number\"} />\r\n                    <TextField className={classes.field} onChange={e=>{setPhone(e.target.value)}} type={\"number\"} id=\"phone\" label={\"room phone\"}/>\r\n                    <input style={{display:\"none\"}} id={\"submit-btn\"} type={\"submit\"}></input>\r\n                </form>\r\n                <label htmlFor=\"submit-btn\">\r\n                    <Button className={classes.button} variant={\"contained\"} color={\"primary\"} component=\"span\">Add</Button>\r\n                </label>\r\n            </div>\r\n            <p>Hello Next.js</p>\r\n        </div>\r\n    );\r\n}\r\n\r\nAddRoom.getInitialProps = ({query}) => {\r\n    return {query:query}\r\n}\r\n\r\nexport default AddRoom;"]},"metadata":{},"sourceType":"module"}