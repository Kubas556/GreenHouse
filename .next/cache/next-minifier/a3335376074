{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{\"8/g6\":function(e,t,n){\"use strict\";var a=n(\"TqRt\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){var n=o.default.memo(o.default.forwardRef((function(t,n){return o.default.createElement(u.default,(0,r.default)({ref:n},t),e)})));0;return n.muiName=u.default.muiName,n};var r=a(n(\"pVnL\")),o=a(n(\"q1tI\")),u=a(n(\"UJJ5\"))},FrwU:function(e,t,n){\"use strict\";var a=n(\"TqRt\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=a(n(\"q1tI\")),o=(0,a(n(\"8/g6\")).default)(r.default.createElement(\"path\",{d:\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"}),\"Delete\");t.default=o},LQwl:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/editRoom\",function(){return n(\"h6E3\")}])},TqRt:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},UJJ5:function(e,t,n){\"use strict\";n.r(t);var a=n(\"HR5l\");n.d(t,\"default\",(function(){return a.a}))},h6E3:function(e,t,n){\"use strict\";n.r(t);var a=n(\"nOHt\"),r=(n(\"YFqc\"),n(\"q1tI\")),o=n.n(r),u=n(\"oY9k\"),i=n.n(u),l=(n(\"VtrM\"),n(\"R/WZ\")),s=n(\"r9w1\"),c=n(\"ofer\"),d=n(\"Z3vd\"),f=n(\"kfFl\"),p=n(\"wx14\"),m=n(\"Ff2n\"),h=(n(\"17x9\"),n(\"iuhU\")),b=n(\"H2TA\"),v=o.a.forwardRef((function(e,t){var n=e.children,a=e.classes,r=e.className,u=e.disableTypography,i=void 0!==u&&u,l=Object(m.a)(e,[\"children\",\"classes\",\"className\",\"disableTypography\"]);return o.a.createElement(\"div\",Object(p.a)({className:Object(h.a)(a.root,r),ref:t},l),i?n:o.a.createElement(c.a,{component:\"h2\",variant:\"h6\"},n))})),g=Object(b.a)({root:{margin:0,padding:\"16px 24px\",flex:\"0 0 auto\"}},{name:\"MuiDialogTitle\"})(v),y=n(\"EQI2\"),w=o.a.forwardRef((function(e,t){return o.a.createElement(c.a,Object(p.a)({component:\"p\",variant:\"body1\",color:\"textSecondary\",ref:t},e))})),j=Object(b.a)({root:{marginBottom:12}},{name:\"MuiDialogContentText\"})(w),O=n(\"+JwS\"),N=n(\"FrwU\"),T=n.n(N),k=o.a.createElement,q=Object(l.a)((function(e){return{table:{padding:\"5%\"},form:{display:\"flex\",flexFlow:\"column\"},chips:{display:\"flex\",flexWrap:\"wrap\"},chip:{margin:2},field:{margin:e.spacing(2)},button:{margin:e.spacing(2)},removeBtn:{margin:e.spacing(2),background:e.status.danger,\"&:hover\":{background:e.status.danger}}}}));function x(e){var t=q(),n=Object(a.useRouter)(),o=Object(r.useState)(),u=o[0],l=o[1],p=Object(r.useState)(),m=p[0],h=p[1],b=Object(r.useState)(),v=b[0],w=b[1],N=Object(r.useState)(\"\"),x=N[0],E=N[1],R=Object(r.useState)(!1),S=R[0],I=R[1];function P(e){return e.ok?e:{json:function(){return{error:e.status}}}}var _=Object(r.useState)(),H=_[0],C=_[1];return Object(r.useEffect)((function(){null!=e.session&&i()(\"http://a2017sedlja.delta-studenti.cz/projektAPI/infomistnost.php?id=\"+e.query.id,{method:\"GET\",headers:{AUTHTOKEN:e.session}}).then((function(e){return e.json()})).then((function(e){if(void 0!==e){var n=e[0][1],a=e[0][0],r=e[0][2];l(n),h(a),w(r),C({name:k(s.a,{className:t.field,onChange:function(e){l(e.target.value)},required:!0,type:\"text\",id:\"name\",label:\"room name\",defaultValue:n}),number:k(s.a,{className:t.field,onChange:function(e){h(e.target.value)},required:!0,type:\"number\",id:\"number\",label:\"room number\",defaultValue:a}),phone:k(s.a,{className:t.field,onChange:function(e){w(e.target.value)},type:\"number\",id:\"phone\",label:\"room phone\",defaultValue:r})})}}))}),[e.session]),k(\"div\",null,k(\"div\",{className:t.table},k(c.a,{className:t.header,variant:\"h4\"},\"Room ID: \"+n.query.id),k(\"form\",{className:t.form,onSubmit:function(t){t.preventDefault(),function(){var t=new URLSearchParams;t.append(\"name\",u),t.append(\"number\",m),t.append(\"phone\",v),i()(\"http://a2017sedlja.delta-studenti.cz/projektAPI/upravitmistnost.php?id=\"+e.query.id,{method:\"POST\",body:t,headers:{AUTHTOKEN:e.session}}).then(P).then((function(e){return e.json()})).then((function(e){e.error||n.back()}))}()}},H?H.name:k(\"a\",null,\"loading\"),H?H.number:k(\"a\",null,\"loading\"),H?H.phone:k(\"a\",null,\"loading\"),k(\"input\",{style:{display:\"none\"},id:\"submit-btn\",type:\"submit\"})),k(\"label\",{htmlFor:\"submit-btn\"},k(d.a,{className:t.button,variant:\"contained\",color:\"primary\",component:\"span\"},\"Save\")),k(\"label\",null,k(d.a,{onClick:function(){return I(!0)},className:t.removeBtn,variant:\"contained\",color:\"primary\",startIcon:k(T.a,null),component:\"span\"},\"Delete\"))),k(f.a,{open:S,\"aria-labelledby\":\"form-dialog-title\"},k(g,{id:\"form-dialog-title\"},\"Replacement for this room\"),k(y.a,null,k(j,null,\"To delete this room, you first must set new ID for all people who works there.\"),k(s.a,{defaultValue:x,autoFocus:!0,margin:\"dense\",id:\"replaceid\",label:\"New ID\",type:\"number\",fullWidth:!0,onChange:function(e){return E(e.target.value)}})),k(O.a,null,k(d.a,{onClick:function(){return I(!1)},color:\"primary\"},\"Cancel\"),k(d.a,{disabled:\"\"==x,onClick:function(){i()(\"http://a2017sedlja.delta-studenti.cz/projektAPI/odstranitmistnost.php?id=\"+e.query.id+\"&replaceid=\"+x,{method:\"POST\",headers:{AUTHTOKEN:e.session}}).then(P).then((function(e){return e.json()})).then((function(e){e.error||n.back()}))},color:\"primary\"},\"Delete\"))),k(\"p\",null,\"Hello Next.js\"))}x.getInitialProps=function(e){return{query:e.query}};t.default=x},oY9k:function(e,t,n){\"use strict\";var a=function(){if(\"undefined\"!==typeof self)return self;if(\"undefined\"!==typeof window)return window;if(\"undefined\"!==typeof a)return a;throw new Error(\"unable to locate global object\")}();e.exports=t=a.fetch,t.default=a.fetch.bind(a),t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response},pVnL:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},n.apply(this,arguments)}e.exports=n}},[[\"LQwl\",1,2,0,3,4,5,6]]]);"}