{"ast":null,"code":"var __jsx = React.createElement;\nimport { Container, TextField, Grid, Paper, Button, Typography, Fab } from '@material-ui/core';\nimport { useRouter } from 'next/router';\nimport { auth } from '../firebase/index';\nimport { makeStyles } from '@material-ui/core/styles';\nimport React, { useState, useEffect } from \"react\";\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nconst useStyles = makeStyles(theme => ({\n  header: {\n    paddingTop: '1rem'\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    left: theme.spacing(2)\n  }\n}));\n\nfunction Login(props) {\n  const {\n    0: username,\n    1: setUsername\n  } = useState(\"\");\n  const {\n    0: password,\n    1: setPassword\n  } = useState(\"\");\n  const {\n    0: missingError,\n    1: setMissingError\n  } = useState(false);\n  const {\n    0: loginError,\n    1: setLoginError\n  } = useState(false);\n  const classes = useStyles();\n  const router = useRouter();\n  useEffect(() => {//props.setThemeBtn(false);\n  }, []);\n\n  const handleSignIn = () => {\n    auth.onAuthStateChanged(authUser => {\n      if (authUser) {\n        router.push(\"/\");\n      }\n    });\n    auth.signInWithEmailAndPassword(username, password).catch(function (error) {\n      // Handle Errors here.\n      var errorCode = error.code;\n      var errorMessage = error.message; // ...\n\n      setLoginError(true);\n    });\n    /*var provider = new firebase.auth.GoogleAuthProvider();\r\n    provider.addScope('https://www.googleapis.com/auth/contacts.readonly');\r\n    auth.signInWithPopup(provider)\r\n        .then(() => {\r\n            alert('You are signed In');\r\n            router.push('/');\r\n        })\r\n        .catch(err => {\r\n            alert('OOps something went wrong check your console');\r\n            console.log(err);\r\n        });*/\n  };\n\n  const submitForm = () => {\n    setLoginError(false);\n    setMissingError(false);\n\n    if (!username || !password) {\n      setMissingError(true);\n    } else {\n      handleSignIn();\n    }\n  }; // @ts-ignore\n\n\n  return __jsx(\"div\", null, __jsx(Grid, {\n    container: true,\n    direction: \"row\",\n    justify: \"center\",\n    alignItems: \"center\",\n    style: {\n      minHeight: '100vh',\n      position: 'absolute'\n    }\n  }, __jsx(Container, {\n    maxWidth: \"xs\"\n  }, __jsx(Paper, {\n    className: // @ts-ignore\n    classes.paper\n  }, __jsx(\"form\", {\n    method: \"post\",\n    onSubmit: e => {\n      e.preventDefault();\n      submitForm();\n    }\n  }, __jsx(Grid, {\n    container: true,\n    direction: \"column\",\n    justify: \"center\",\n    alignItems: \"center\",\n    spacing: 2\n  }, __jsx(Typography, {\n    className: classes.header,\n    variant: \"h4\"\n  }, \"Login\"), __jsx(Grid, {\n    item: true\n  }, __jsx(TextField, {\n    error: !username && missingError || loginError,\n    fullWidth: true,\n    helperText: !username && missingError ? \"required\" : null,\n    variant: \"outlined\",\n    label: \"Username\",\n    type: \"text\",\n    onChange: e => {\n      // @ts-ignore\n      setUsername(e.target.value);\n    },\n    name: \"username\"\n  })), __jsx(Grid, {\n    item: true\n  }, __jsx(TextField, {\n    error: !password && missingError || loginError,\n    fullWidth: true,\n    helperText: !password && missingError ? \"required\" : null,\n    variant: \"outlined\",\n    label: \"Password\",\n    type: \"password\",\n    onChange: e => {\n      // @ts-ignore\n      setPassword(e.target.value);\n    },\n    name: \"password\"\n  })), __jsx(Grid, {\n    item: true\n  }, __jsx(\"input\", {\n    style: {\n      display: \"none\"\n    },\n    id: \"submit-btn\",\n    type: \"submit\"\n  }), __jsx(\"label\", {\n    htmlFor: \"submit-btn\"\n  }, __jsx(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    component: \"span\"\n  }, \"Login\")))))), __jsx(Fab, {\n    onClick: () => {\n      router.back();\n    },\n    variant: \"extended\",\n    color: \"secondary\",\n    className: classes.fab\n  }, __jsx(ArrowBackIcon, null), \"Back to app\"))));\n}\n/*Login.getInitialProps = ({query}:NextApiRequest) => {\r\n    return{query:query}\r\n}*/\n\n\nexport default Login;","map":null,"metadata":{},"sourceType":"module"}