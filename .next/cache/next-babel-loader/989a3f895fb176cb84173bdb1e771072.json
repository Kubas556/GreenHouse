{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jakub Sedlak\\\\WebstormProjects\\\\projekt_CP\\\\components\\\\Termostat.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useRef, useState } from \"react\";\nimport anime from \"animejs\";\nimport { firebase } from \"../firebase/index\";\n\nfunction Termostat(props) {\n  const maxHeight = 8;\n  const minHeight = 215;\n  const height = minHeight - maxHeight;\n  const maxTemp = 50;\n  const minTemp = -50; //const range = Math.abs(minTemp)+maxTemp;\n\n  let temp = props.temp;\n  let rangeVal = temp >= 0 ? 50 / maxTemp * temp + 50 : 50 - 50 / Math.abs(minTemp) * Math.abs(temp);\n  let y = height - (height / 100 * rangeVal - 8);\n  const text = useRef();\n  const tempValue = useRef();\n  const textLine = useRef();\n  const water = useRef();\n  const duration = 5000;\n  const easing = \"spring(1, 82, 12, 0)\";\n  const {\n    0: prevText,\n    1: setPrevtext\n  } = useState(minTemp);\n  useEffect(() => {\n    var textAnim = {\n      text: prevText\n    };\n    anime({\n      targets: textAnim,\n      text: temp,\n      duration: duration,\n      easing: easing,\n      round: 1,\n      update: function () {\n        text.current.innerHTML = textAnim.text + \"°C\";\n      },\n      complete: function (anim) {\n        setPrevtext(temp);\n      }\n    });\n    anime({\n      targets: tempValue.current,\n      y2: y,\n      duration: duration,\n      easing: easing,\n      update: function () {}\n    });\n    anime({\n      targets: textLine.current,\n      y2: y,\n      y1: y,\n      duration: duration,\n      easing: easing,\n      update: function () {}\n    });\n    anime({\n      targets: text.current,\n      transform: \"translate(55.59 \" + (y - 2.77) + \")\",\n      duration: duration,\n      easing: easing,\n      update: function () {}\n    });\n    anime({\n      targets: water.current,\n      d: \"M 0.14 16.09 C 0.14 16.09 21.14 20.25 22.49 12.8 C 23.84 5.35 17.37 0.13 9.87 0.13 C 2.37 0.13 0.14 16.09 0.14 16.09 Z\",\n      duration: 1000,\n      easing: 'linear',\n      direction: 'alternate',\n      loop: true\n    });\n  }, [props.temp]);\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    id: \"work\",\n    className: \"workspace\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, __jsx(\"svg\", {\n    id: \"handPath\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 161.45 161.45\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, __jsx(\"defs\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, __jsx(\"style\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \".cls-1{fill:none;stroke:#eceff1;stroke-miterlimit:10;stroke-opacity:0.08;stroke-width:2px;}\")), __jsx(\"title\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"Datov\\xFD zdroj 22\"), __jsx(\"g\", {\n    id: \"Vrstva_2\",\n    \"data-name\": \"Vrstva 2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, __jsx(\"g\", {\n    id: \"Vrstva_2-2\",\n    \"data-name\": \"Vrstva 2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, __jsx(\"circle\", {\n    className: \"cls-1\",\n    cx: \"80.73\",\n    cy: \"80.73\",\n    r: \"80.6\",\n    \"stroke-dasharray\": \"253\",\n    \"stroke-dashoffset\": \"253\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  })))), __jsx(\"div\", {\n    id: \"lines\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    id: \"hand\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, __jsx(\"svg\", {\n    id: \"handle\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 26.04 26.04\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, __jsx(\"defs\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, __jsx(\"style\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, \".handle{fill:#2196f3;}\")), __jsx(\"title\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, \"Datov\\xFD zdroj 25\"), __jsx(\"g\", {\n    id: \"Vrstva_2\",\n    \"data-name\": \"Vrstva 2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, __jsx(\"g\", {\n    id: \"Vrstva_2-2\",\n    \"data-name\": \"Vrstva 2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, __jsx(\"circle\", {\n    className: \"handle\",\n    cx: \"13.02\",\n    cy: \"13.02\",\n    r: \"13.02\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  })))))), __jsx(\"input\", {\n    type: \"number\",\n    id: \"valueInput\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, \" \"));\n}\n\nexport default Termostat;","map":{"version":3,"sources":["C:/Users/Jakub Sedlak/WebstormProjects/projekt_CP/components/Termostat.js"],"names":["React","useEffect","useRef","useState","anime","firebase","Termostat","props","maxHeight","minHeight","height","maxTemp","minTemp","temp","rangeVal","Math","abs","y","text","tempValue","textLine","water","duration","easing","prevText","setPrevtext","textAnim","targets","round","update","current","innerHTML","complete","anim","y2","y1","transform","d","direction","loop"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,MAA1B,EAAkCC,QAAlC,QAAiD,OAAjD;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAAQC,QAAR,QAAuB,mBAAvB;;AACA,SAASC,SAAT,CAAmBC,KAAnB,EAAyB;AACrB,QAAMC,SAAS,GAAG,CAAlB;AACA,QAAMC,SAAS,GAAG,GAAlB;AACA,QAAMC,MAAM,GAAID,SAAS,GAACD,SAA1B;AACA,QAAMG,OAAO,GAAG,EAAhB;AACA,QAAMC,OAAO,GAAG,CAAC,EAAjB,CALqB,CAMrB;;AACA,MAAIC,IAAI,GAAGN,KAAK,CAACM,IAAjB;AACA,MAAIC,QAAQ,GAAGD,IAAI,IAAE,CAAN,GAAU,KAAGF,OAAJ,GAAaE,IAAd,GAAoB,EAA5B,GAA+B,KAAK,KAAGE,IAAI,CAACC,GAAL,CAASJ,OAAT,CAAJ,GAAuBG,IAAI,CAACC,GAAL,CAASH,IAAT,CAAzE;AACA,MAAII,CAAC,GAAGP,MAAM,IAAIA,MAAM,GAAC,GAAR,GAAaI,QAAd,GAAwB,CAA1B,CAAd;AAEA,QAAMI,IAAI,GAAGhB,MAAM,EAAnB;AACA,QAAMiB,SAAS,GAAGjB,MAAM,EAAxB;AACA,QAAMkB,QAAQ,GAAGlB,MAAM,EAAvB;AACA,QAAMmB,KAAK,GAAGnB,MAAM,EAApB;AAEA,QAAMoB,QAAQ,GAAG,IAAjB;AACA,QAAMC,MAAM,GAAG,sBAAf;AACA,QAAM;AAAA,OAACC,QAAD;AAAA,OAAUC;AAAV,MAAyBtB,QAAQ,CAACS,OAAD,CAAvC;AAEAX,EAAAA,SAAS,CAAC,MAAI;AACV,QAAIyB,QAAQ,GAAG;AACXR,MAAAA,IAAI,EAACM;AADM,KAAf;AAIApB,IAAAA,KAAK,CAAC;AACFuB,MAAAA,OAAO,EAACD,QADN;AAEFR,MAAAA,IAAI,EAACL,IAFH;AAGFS,MAAAA,QAAQ,EAACA,QAHP;AAIFC,MAAAA,MAAM,EAACA,MAJL;AAKFK,MAAAA,KAAK,EAAC,CALJ;AAMFC,MAAAA,MAAM,EAAC,YAAU;AACbX,QAAAA,IAAI,CAACY,OAAL,CAAaC,SAAb,GAAyBL,QAAQ,CAACR,IAAT,GAAc,IAAvC;AACH,OARC;AASFc,MAAAA,QAAQ,EAAC,UAAUC,IAAV,EAAgB;AACrBR,QAAAA,WAAW,CAACZ,IAAD,CAAX;AACH;AAXC,KAAD,CAAL;AAcAT,IAAAA,KAAK,CAAC;AACFuB,MAAAA,OAAO,EAACR,SAAS,CAACW,OADhB;AAEFI,MAAAA,EAAE,EAACjB,CAFD;AAGFK,MAAAA,QAAQ,EAACA,QAHP;AAIFC,MAAAA,MAAM,EAACA,MAJL;AAKFM,MAAAA,MAAM,EAAC,YAAU,CAEhB;AAPC,KAAD,CAAL;AAUAzB,IAAAA,KAAK,CAAC;AACFuB,MAAAA,OAAO,EAACP,QAAQ,CAACU,OADf;AAEFI,MAAAA,EAAE,EAACjB,CAFD;AAGFkB,MAAAA,EAAE,EAAClB,CAHD;AAIFK,MAAAA,QAAQ,EAACA,QAJP;AAKFC,MAAAA,MAAM,EAACA,MALL;AAMFM,MAAAA,MAAM,EAAC,YAAU,CAEhB;AARC,KAAD,CAAL;AAWAzB,IAAAA,KAAK,CAAC;AACFuB,MAAAA,OAAO,EAACT,IAAI,CAACY,OADX;AAEFM,MAAAA,SAAS,EAAC,sBAAoBnB,CAAC,GAAC,IAAtB,IAA4B,GAFpC;AAGFK,MAAAA,QAAQ,EAACA,QAHP;AAIFC,MAAAA,MAAM,EAACA,MAJL;AAKFM,MAAAA,MAAM,EAAC,YAAU,CAEhB;AAPC,KAAD,CAAL;AAUAzB,IAAAA,KAAK,CAAC;AACFuB,MAAAA,OAAO,EAACN,KAAK,CAACS,OADZ;AAEFO,MAAAA,CAAC,EAAC,wHAFA;AAGFf,MAAAA,QAAQ,EAAC,IAHP;AAIFC,MAAAA,MAAM,EAAC,QAJL;AAKFe,MAAAA,SAAS,EAAE,WALT;AAMFC,MAAAA,IAAI,EAAC;AANH,KAAD,CAAL;AASH,GA3DQ,EA2DP,CAAChC,KAAK,CAACM,IAAP,CA3DO,CAAT;AA6DA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAK,IAAA,EAAE,EAAC,MAAR;AAAe,IAAA,SAAS,EAAC,WAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,EAAE,EAAC,UAAR;AAAmB,IAAA,KAAK,EAAC,4BAAzB;AAAsD,IAAA,OAAO,EAAC,mBAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAQ,6FAAR,CADJ,CADJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAJJ,EAKI;AAAG,IAAA,EAAE,EAAC,UAAN;AAAiB,iBAAU,UAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAG,IAAA,EAAE,EAAC,YAAN;AAAmB,iBAAU,UAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,SAAS,EAAC,OAAlB;AAA0B,IAAA,EAAE,EAAC,OAA7B;AAAqC,IAAA,EAAE,EAAC,OAAxC;AAAgD,IAAA,CAAC,EAAC,MAAlD;AAAyD,wBAAiB,KAA1E;AACQ,yBAAkB,KAD1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,CALJ,CADJ,EAaI;AAAK,IAAA,EAAE,EAAC,OAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbJ,EAeI;AAAK,IAAA,EAAE,EAAC,MAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,EAAE,EAAC,QAAR;AAAiB,IAAA,KAAK,EAAC,4BAAvB;AAAoD,IAAA,OAAO,EAAC,iBAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAQ,wBAAR,CADJ,CADJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAJJ,EAKI;AAAG,IAAA,EAAE,EAAC,UAAN;AAAiB,iBAAU,UAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAG,IAAA,EAAE,EAAC,YAAN;AAAmB,iBAAU,UAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,SAAS,EAAC,QAAlB;AAA2B,IAAA,EAAE,EAAC,OAA9B;AAAsC,IAAA,EAAE,EAAC,OAAzC;AAAiD,IAAA,CAAC,EAAC,OAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,CALJ,CADJ,CAfJ,CADA,EA8BA;AAAO,IAAA,IAAI,EAAG,QAAd;AAAuB,IAAA,EAAE,EAAG,YAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SA9BA,CADJ;AAkCH;;AAED,eAAeP,SAAf","sourcesContent":["import React, {useEffect, useRef, useState} from \"react\";\r\nimport anime from \"animejs\";\r\nimport {firebase} from \"../firebase/index\";\r\nfunction Termostat(props){\r\n    const maxHeight = 8;\r\n    const minHeight = 215;\r\n    const height = (minHeight-maxHeight);\r\n    const maxTemp = 50;\r\n    const minTemp = -50;\r\n    //const range = Math.abs(minTemp)+maxTemp;\r\n    let temp = props.temp;\r\n    let rangeVal = temp>=0?((50/maxTemp)*temp)+50:50-((50/Math.abs(minTemp))*Math.abs(temp));\r\n    let y = height-(((height/100)*rangeVal)-8);\r\n\r\n    const text = useRef();\r\n    const tempValue = useRef();\r\n    const textLine = useRef();\r\n    const water = useRef();\r\n\r\n    const duration = 5000;\r\n    const easing = \"spring(1, 82, 12, 0)\";\r\n    const [prevText,setPrevtext] = useState(minTemp);\r\n\r\n    useEffect(()=>{\r\n        var textAnim = {\r\n            text:prevText\r\n        };\r\n\r\n        anime({\r\n            targets:textAnim,\r\n            text:temp,\r\n            duration:duration,\r\n            easing:easing,\r\n            round:1,\r\n            update:function(){\r\n                text.current.innerHTML = textAnim.text+\"°C\";\r\n            },\r\n            complete:function (anim) {\r\n                setPrevtext(temp);\r\n            }\r\n        });\r\n\r\n        anime({\r\n            targets:tempValue.current,\r\n            y2:y,\r\n            duration:duration,\r\n            easing:easing,\r\n            update:function(){\r\n\r\n            }\r\n        });\r\n\r\n        anime({\r\n            targets:textLine.current,\r\n            y2:y,\r\n            y1:y,\r\n            duration:duration,\r\n            easing:easing,\r\n            update:function(){\r\n\r\n            }\r\n        });\r\n\r\n        anime({\r\n            targets:text.current,\r\n            transform:\"translate(55.59 \"+(y-2.77)+\")\",\r\n            duration:duration,\r\n            easing:easing,\r\n            update:function(){\r\n\r\n            }\r\n        });\r\n\r\n        anime({\r\n            targets:water.current,\r\n            d:\"M 0.14 16.09 C 0.14 16.09 21.14 20.25 22.49 12.8 C 23.84 5.35 17.37 0.13 9.87 0.13 C 2.37 0.13 0.14 16.09 0.14 16.09 Z\",\r\n            duration:1000,\r\n            easing:'linear',\r\n            direction: 'alternate',\r\n            loop:true\r\n        });\r\n\r\n    },[props.temp]);\r\n\r\n    return(\r\n        <div>\r\n        <div id=\"work\" className=\"workspace\">\r\n            <svg id=\"handPath\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 161.45 161.45\">\r\n                <defs>\r\n                    <style>{\".cls-1{fill:none;stroke:#eceff1;stroke-miterlimit:10;stroke-opacity:0.08;stroke-width:2px;}\"}</style>\r\n                </defs>\r\n                <title>Datový zdroj 22</title>\r\n                <g id=\"Vrstva_2\" data-name=\"Vrstva 2\">\r\n                    <g id=\"Vrstva_2-2\" data-name=\"Vrstva 2\">\r\n                        <circle className=\"cls-1\" cx=\"80.73\" cy=\"80.73\" r=\"80.6\" stroke-dasharray=\"253\"\r\n                                stroke-dashoffset=\"253\"/>\r\n                    </g>\r\n                </g>\r\n            </svg>\r\n            <div id=\"lines\">\r\n            </div>\r\n            <div id=\"hand\">\r\n                <svg id=\"handle\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 26.04 26.04\">\r\n                    <defs>\r\n                        <style>{\".handle{fill:#2196f3;}\"}</style>\r\n                    </defs>\r\n                    <title>Datový zdroj 25</title>\r\n                    <g id=\"Vrstva_2\" data-name=\"Vrstva 2\">\r\n                        <g id=\"Vrstva_2-2\" data-name=\"Vrstva 2\">\r\n                            <circle className=\"handle\" cx=\"13.02\" cy=\"13.02\" r=\"13.02\"/>\r\n                        </g>\r\n                    </g>\r\n                </svg>\r\n            </div>\r\n        </div>\r\n        <input type = \"number\" id = \"valueInput\" > </input>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Termostat;"]},"metadata":{},"sourceType":"module"}