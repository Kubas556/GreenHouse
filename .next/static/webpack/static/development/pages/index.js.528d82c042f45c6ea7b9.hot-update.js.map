{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.528d82c042f45c6ea7b9.hot-update.js","sources":["webpack:///./components/DeviceInfoCard.tsx","webpack:///./pages/index.tsx"],"sourcesContent":["import {Card, CardContent, Typography} from \"@material-ui/core\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {firebase} from \"../firebase/index\";\r\nimport IDeviceCard from \"../interfaces/IDeviceCard\";\r\n\r\nfunction DeviceInfoCard(props:IDeviceCard) {\r\n    const [temp,setTemp] = useState(\"waiting\");\r\n    const [name,setName] = useState(\"waiting\");\r\n    let tempData = firebase.database().ref(\"/users/\"+props.userId+\"/devices/\"+props.id+\"/temp\");\r\n    let nameData = firebase.database().ref(\"/users/\"+props.userId+\"/devices/\"+props.id+\"/name\");\r\n\r\n\r\n\r\n    useEffect(()=>{\r\n        tempData.on('value',data=>{\r\n            setTemp(data.val());\r\n        });\r\n        nameData.on('value',data=>{\r\n            setName(data.val());\r\n            //console.log(Object.keys(data.val()));\r\n        });\r\n    },[]);\r\n    return(\r\n            <Card>\r\n                <CardContent>\r\n                    <Typography variant={\"body1\"}>\r\n                        {name}\r\n                    </Typography>\r\n                    <Typography color=\"textSecondary\" gutterBottom>\r\n                        Typ: Skleník\r\n                    </Typography>\r\n                    <Typography color=\"textSecondary\" gutterBottom>\r\n                        Aktuální teplota: {temp}\r\n                    </Typography>\r\n                </CardContent>\r\n            </Card>\r\n    );\r\n}\r\nexport default React.forwardRef(DeviceInfoCard);","import {Typography, Card, CardContent} from \"@material-ui/core\";\r\nimport Link from 'next/link';\r\nimport React, {useEffect, useState} from \"react\";\r\nimport withAuth from \"../components/WithAuth\";\r\nimport WithAppBar from \"../components/WithAppBar\";\r\nimport IPageProps from \"../interfaces/IPageProps\";\r\nimport {firebase} from \"../firebase/index\";\r\nimport DeviceInfoCard from \"../components/DeviceInfoCard\";\r\n\r\nfunction index(props:IPageProps){\r\n    let devicesData = firebase.database().ref(\"/users/\"+props.user+\"/devices\");\r\n    let [devices,setDevices] = useState<string[]>([]);\r\n\r\n    useEffect(()=>{\r\n        devicesData.on('value',data=>{\r\n            //console.log(Object.keys(data.val()));\r\n            setDevices(Object.keys(data.val()));\r\n        });\r\n    },[]);\r\n\r\n    return(\r\n        <div>\r\n            <div>\r\n                <Typography variant=\"h4\" component=\"h2\">\r\n                    Seznam chytrých zařízení\r\n                </Typography>\r\n                <div style={{display:\"flex\"}}>\r\n                    {\r\n                        devices.map((id:string,index:number)=>\r\n                            <div>\r\n                                <Link href={{ pathname: '/temperature', query: { name: 'test' } }} passHref>\r\n                                    <DeviceInfoCard key={index} id={id} userId={props.user}/>\r\n                                </Link>\r\n                            </div>\r\n                            )\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withAuth((props:IPageProps)=>{return(\r\n    <WithAppBar component={index} title={\"Index\"} componentProps={props}/>\r\n)});"],"mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAEA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAFA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AAYA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;A","sourceRoot":""}