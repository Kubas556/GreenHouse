{"ast":null,"code":"import _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nvar __jsx = React.createElement;\nimport { Typography, Box } from \"@material-ui/core\";\nimport Link from 'next/link';\nimport React, { useEffect, useRef, useState } from \"react\";\nimport withAuth from \"../components/WithAuth\";\nimport WithAppBar from \"../components/WithAppBar\";\nimport { firebase } from \"../firebase/index\";\nimport DeviceInfoCard from \"../components/DeviceInfoCard\";\nimport Loading from \"../components/Loading\";\n\nfunction index(props) {\n  var devicesData = firebase.database().ref(\"/users/\" + props.user + \"/devices\");\n\n  var _useState = useState([]),\n      devices = _useState[0],\n      setDevices = _useState[1];\n\n  useEffect(function () {\n    devicesData.on('value', function (data) {\n      //console.log(Object.keys(data.val()));\n      setDevices(_Object$keys(data.val()));\n      /*console.log(Object.keys(data.val()).map(value => {\r\n          let out = \"\";\r\n          firebase.database().ref(\"/users/\"+props.user+\"/devices/\"+value+\"/name\").once('value',data=>{ out = data.val()});\r\n          return out;\r\n      }));*/\n    });\n  }, []);\n  var test = useRef(null);\n  return __jsx(\"div\", null, __jsx(\"div\", null, __jsx(Typography, {\n    variant: \"h4\",\n    component: \"h2\"\n  }, \"Seznam chytr\\xFDch za\\u0159\\xEDzen\\xED\"), __jsx(\"div\", {\n    style: {\n      display: \"flex\"\n    }\n  }, devices.length != 0 ? devices.map(function (id, index) {\n    return __jsx(\"div\", null, __jsx(Link, {\n      href: '/temperature/[id]',\n      as: \"/temperature/\".concat(id)\n    }, __jsx(Box, {\n      component: \"a\"\n    }, __jsx(DeviceInfoCard, {\n      key: index,\n      id: id,\n      userId: props.user\n    }))));\n  }) : __jsx(Loading, null))));\n}\n\nexport default withAuth(function (props) {\n  return __jsx(WithAppBar, {\n    component: index,\n    title: \"Index\",\n    componentProps: props\n  });\n});","map":null,"metadata":{},"sourceType":"module"}