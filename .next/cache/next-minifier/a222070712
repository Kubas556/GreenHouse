{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{\"8/g6\":function(e,t,a){\"use strict\";var n=a(\"TqRt\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){var a=r.default.memo(r.default.forwardRef((function(t,a){return r.default.createElement(u.default,(0,l.default)({ref:a},t),e)})));0;return a.muiName=u.default.muiName,a};var l=n(a(\"pVnL\")),r=n(a(\"q1tI\")),u=n(a(\"UJJ5\"))},A7NI:function(e,t,a){\"use strict\";a.r(t);var n=a(\"nOHt\"),l=(a(\"YFqc\"),a(\"q1tI\")),r=a.n(l),u=a(\"oY9k\"),i=a.n(u),s=(a(\"VtrM\"),a(\"R/WZ\")),o=a(\"r9w1\"),d=a(\"ofer\"),c=a(\"ADg1\"),p=a(\"1AYd\"),f=a(\"cVXz\"),m=a(\"pdwK\"),h=a(\"9jPY\"),v=a(\"jjAL\"),b=a(\"Z3vd\"),g=a(\"FrwU\"),y=a.n(g),j=r.a.createElement,N=Object(s.a)((function(e){return{table:{padding:\"5%\"},form:{display:\"flex\",flexFlow:\"column\"},chips:{display:\"flex\",flexWrap:\"wrap\"},chip:{margin:2},field:{margin:e.spacing(2)},button:{margin:e.spacing(2)},removeBtn:{margin:e.spacing(2),background:e.status.danger,\"&:hover\":{background:e.status.danger}}}}));function w(e){var t=N(),a=Object(n.useRouter)(),r=Object(l.useState)([]),u=r[0],s=r[1],g=Object(l.useState)(),w=g[0],O=g[1],q=Object(l.useState)(null),k=q[0],P=q[1],T=Object(l.useState)(null),S=T[0],x=T[1],A=Object(l.useState)(null),I=A[0],V=A[1],E=Object(l.useState)(null),_=E[0],H=E[1],C=Object(l.useState)(null),U=C[0],R=C[1],z=Object(l.useState)(null),M=z[0],F=z[1],J=Object(l.useState)(null),D=J[0],K=J[1],L=Object(l.useState)(null),Y=L[0],X=L[1];function B(e){return e.ok?e:{json:function(){return{error:e.status}}}}Object(l.useEffect)((function(){null!==e.session&&i()(\"http://a2017sedlja.delta-studenti.cz/projektAPI/mistnosti.php\",{method:\"GET\",headers:{AUTHTOKEN:e.session}}).then(B).then((function(e){return e.json()})).then((function(a){var n=a;n&&(n.error||(s(n),i()(\"http://a2017sedlja.delta-studenti.cz/projektAPI/infoclovek.php?id=\"+e.query.id,{method:\"GET\",headers:{AUTHTOKEN:e.session}}).then((function(e){return e.json()})).then((function(e){if(void 0!==e){var a=e[0][0],l=e[0][1],r=e[0][2],u=e[0][3],i=e[0][4],s=e[0][5],d=e[0][6],c=e[0][7];P(a),x(l),V(r),H(u),R(i),F(s),K({id:d,name:n.filter((function(e){return e[3]==d}))[0][1]}),X(c),O({username:j(o.a,{className:t.field,onChange:function(e){P(e.target.value)},defaultValue:a,required:!0,type:\"text\",id:\"username\",label:\"username\"}),password:j(o.a,{className:t.field,onChange:function(e){x(e.target.value)},defaultValue:l,required:!0,type:\"text\",id:\"password\",label:\"password\"}),firstname:j(o.a,{className:t.field,onChange:function(e){V(e.target.value)},defaultValue:r,required:!0,type:\"text\",id:\"firstname\",label:\"firstname\"}),lastname:j(o.a,{className:t.field,onChange:function(e){H(e.target.value)},defaultValue:u,required:!0,type:\"text\",id:\"lastname\",label:\"lastname\"}),position:j(o.a,{className:t.field,onChange:function(e){R(e.target.value)},defaultValue:i,required:!0,type:\"text\",id:\"pos\",label:\"position\"}),sallary:j(o.a,{className:t.field,onChange:function(e){F(e.target.value)},defaultValue:s,required:!0,type:\"number\",id:\"sallary\",label:\"sallary\"})})}}))))}))}),[e.session]);var G={PaperProps:{style:{maxHeight:224,width:250}}};return j(\"div\",null,j(\"div\",{className:t.table},j(d.a,{className:t.header,variant:\"h4\"},\"Person ID: \"+e.query.id),j(\"form\",{className:t.form,onSubmit:function(t){t.preventDefault(),function(){var t=new URLSearchParams;t.append(\"username\",k),t.append(\"password\",S),t.append(\"firstname\",I),t.append(\"lastname\",_),t.append(\"pos\",U),t.append(\"sallary\",M),t.append(\"room\",D.id),t.append(\"admin\",Y),t.append(\"id\",e.query.id),i()(\"http://a2017sedlja.delta-studenti.cz/projektAPI/upravitcloveka.php\",{method:\"POST\",body:t,headers:{AUTHTOKEN:e.session}}).then(B).then((function(e){return e.json()})).then((function(e){e.error||a.back()}))}()}},w?w.username:j(\"a\",null,\"loading\"),w?w.password:j(\"a\",null,\"loading\"),w?w.firstname:j(\"a\",null,\"loading\"),w?w.lastname:j(\"a\",null,\"loading\"),w?w.position:j(\"a\",null,\"loading\"),w?w.sallary:j(\"a\",null,\"loading\"),j(c.a,{className:t.field,required:!0},j(p.a,{id:\"keys-label\"},\"room\"),j(f.a,{id:\"demo-mutiple-chip\",labelId:\"keys-label\",value:D,onChange:function(e){K(e.target.value)},input:j(m.a,{id:\"select-multiple-chip\"}),renderValue:function(e){return j(\"div\",{className:t.chips},j(h.a,{key:e,label:e.name,className:t.chip}))},MenuProps:G},u.map((function(e){return j(v.a,{key:e,value:{id:e[3],name:e[1]}},e[1])})))),j(o.a,{className:t.field,value:Y,onChange:function(e){X(e.target.value)},select:!0,required:!0,id:\"admin\",label:\"admin\"},j(v.a,{value:1},\"True\"),j(v.a,{value:0},\"False\")),j(\"input\",{style:{display:\"none\"},id:\"submit-btn\",type:\"submit\"})),j(\"label\",{htmlFor:\"submit-btn\"},j(b.a,{className:t.button,variant:\"contained\",color:\"primary\",component:\"span\"},\"Save\")),j(\"label\",null,j(b.a,{onClick:function(){i()(\"http://a2017sedlja.delta-studenti.cz/projektAPI/odstranitcloveka.php?id=\"+e.query.id,{method:\"POST\",headers:{AUTHTOKEN:e.session}}).then(B).then((function(e){return e.json()})).then((function(e){e.error||a.back()}))},className:t.removeBtn,variant:\"contained\",color:\"primary\",startIcon:j(y.a,null),component:\"span\"},\"Delete\"))),j(\"p\",null,\"Hello Next.js\"))}w.getInitialProps=function(e){return{query:e.query}},t.default=w},FrwU:function(e,t,a){\"use strict\";var n=a(\"TqRt\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var l=n(a(\"q1tI\")),r=(0,n(a(\"8/g6\")).default)(l.default.createElement(\"path\",{d:\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"}),\"Delete\");t.default=r},TqRt:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},UJJ5:function(e,t,a){\"use strict\";a.r(t);var n=a(\"HR5l\");a.d(t,\"default\",(function(){return n.a}))},d43g:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/editPerson\",function(){return a(\"A7NI\")}])},pVnL:function(e,t){function a(){return e.exports=a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},a.apply(this,arguments)}e.exports=a}},[[\"d43g\",1,2,0,3,4,5,9]]]);"}