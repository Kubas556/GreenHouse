{"ast":null,"code":"var __jsx = React.createElement;\nimport { Typography, Box } from \"@material-ui/core\";\nimport Link from 'next/link';\nimport React, { useEffect, useRef, useState } from \"react\";\nimport withAuth from \"../components/WithAuth\";\nimport WithAppBar from \"../components/WithAppBar\";\nimport { firebase } from \"../firebase/index\";\nimport DeviceInfoCard from \"../components/DeviceInfoCard\";\nimport Loading from \"../components/Loading\";\n\nfunction index(props) {\n  let devicesData = firebase.database().ref(\"/users/\" + props.user + \"/devices\");\n  let {\n    0: devices,\n    1: setDevices\n  } = useState([]);\n  useEffect(() => {\n    devicesData.on('value', data => {\n      //console.log(Object.keys(data.val()));\n      setDevices(Object.keys(data.val()));\n      /*console.log(Object.keys(data.val()).map(value => {\r\n          let out = \"\";\r\n          firebase.database().ref(\"/users/\"+props.user+\"/devices/\"+value+\"/name\").once('value',data=>{ out = data.val()});\r\n          return out;\r\n      }));*/\n    });\n  }, []);\n  const test = useRef(null);\n  return __jsx(\"div\", null, __jsx(\"div\", null, __jsx(Typography, {\n    variant: \"h4\",\n    component: \"h2\"\n  }, \"Seznam chytr\\xFDch za\\u0159\\xEDzen\\xED\"), __jsx(\"div\", {\n    style: {\n      display: \"flex\"\n    }\n  }, devices.length != 0 ? devices.map((id, index) => __jsx(\"div\", null, __jsx(Link, {\n    href: '/temperature/[id]',\n    as: `/temperature/${id}`\n  }, __jsx(Box, {\n    component: \"a\"\n  }, __jsx(DeviceInfoCard, {\n    key: index,\n    id: id,\n    userId: props.user\n  }))))) : __jsx(Loading, null))));\n}\n\nexport default withAuth(props => {\n  return __jsx(WithAppBar, {\n    component: index,\n    title: \"Index\",\n    componentProps: props\n  });\n});","map":null,"metadata":{},"sourceType":"module"}